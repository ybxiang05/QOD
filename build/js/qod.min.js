!function(e){let o="";e("#new-quote-button").on("click",function(t){t.preventDefault(),o=document.URL,console.log("clicked"),e.ajax({method:"GET",url:qod_vars.rest_url+"/wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){console.log(o);const t=o.shift(),n=t.content.rendered,l=t.title.rendered,s=t._qod_quote_source,u=t._qod_quote_source_url;history.pushState(null,null,qod_vars.home_url+"/"+t.slug),e(".entry-content").html(n),u.length&&s.length?(e(".entry-title").html(`<p> &ndash; ${l}, </p>`),e(".source").html(`<p> &nbsp; <a href="${u}">${s}</a></p>`)):s.length?(e(".entry-title").html(`<p> &ndash; ${l}, </p>`),e(".source").html(`<p> &nbsp; ${s}</p>`)):(e(".entry-title").html(`<p> &ndash; ${l}</p>`),e(".source").html(""))}).fail(function(e){console.log(e,"An error has occurred")}),e(window).on("popstate",function(){window.location.replace(o)})}),e("#quote-submit-button").on("click",function(o){o.preventDefault(),console.log("clicked"),e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts/",data:{title:e("#quote-author").val(),content:e("#quote-content").val(),_qod_quote_source:e("#quote-source").val(),_qod_quote_source_url:e("#quote-source-url").val(),status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(){console.log("clicked!"),e("#quote-submission-form").hide(),e(".submit-success-message").show()}).fail(function(){e(".submit-fail-message").show()})})}(jQuery);